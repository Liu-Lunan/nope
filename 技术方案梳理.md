# 潜在技术方案梳理VSCODE
>   本文基于2022年1月份的项目组会讨论结果，对提出的几种潜在的方案进行技术可行性的分析，分析结果受限于个人知识储备，如有不足欢迎指出
## 当前demo（2022.1）   
### **硬件配置**
棋盘布局为7×7，以亚克力板和激光切割纸板为基板，发光器件采用串联WS2812B灯珠，控制单元为Arduino R3，使用时需要外接5V-DC电源为灯珠供电。另外需要外置的手机支架以及一部安装有配套APP的`智能手机`与用户以及Arduino进行交互。
### **实现功能**
实现了通过PC的USB串口连接和安卓手机蓝牙串口通信的方式向Arduino发送指令，指令内容包括棋盘点亮位置、亮灯颜色以及亮灯持续时间。亮灯将提示用户在指定位置下黑子或白子，当棋局改变时，将使用手机摄像头拍摄棋局平面图并进行识别，确定用户下棋位置并将信息传入相应`算法接口`，并将算法传回的指令通过串口传输给Arduino，由此往复，完成下棋过程。
### **特别说明**
demo所实现的方案便是本项目最基础的功能，因此本篇所讨论的技术方案均建立在demo的基础之上，后续若无特殊说明，demo均特指该基础方案。

---
## 潜在路线1--磁力平面移动棋子
> 在不改变demo的棋盘识别以及指令传输模式的前提下，将用户需要根据灯光提示`人工下棋`，本方案将人工下棋的步骤替换为棋盘自动移动棋子下棋，更加符合*智能棋盘*的定位
### **实现原理**
使用类似平面加工机床的滑轨结构移动隐藏于棋盘下的电磁线圈，将原本排布于棋盘外围的未落子棋子移动，棋子本身需添加磁铁或铁磁体，使其能被电磁线圈所产生的磁场所吸引。棋子跟随线圈轨迹移动，到达指定位置后电磁线圈关闭，线圈移动到下一个待移动的棋子的位置，落子过程结束。类似B站up主何同学所做的[AirPower项目](https://www.bilibili.com/video/BV19v411M7Rs?from=search&seid=9133334971389114449&spm_id_from=333.337.0.0)
### **优点**
- Arduino对应可参考项目众多，技术`易实现`
- 功能实现对应硬件隐藏在产品内部，操作环境可控，受外界干扰小
- 成本低廉，类似的[写字机项目](https://www.instructables.com/GRBL-Based-DIY-Drawing-Machine/)
### **缺点**
- 仅适用于象棋这类棋子排布稀疏的棋局
- 棋子移动速度受限于电机功率与体积
- 需要使用特制的棋子

---
## 潜在路线2--toio移动平台
> 使用类似索尼公司开发的[toio](https://www.bilibili.com/video/BV1sx411a7Fd?from=search&seid=12382604272088896849&spm_id_from=333.337.0.0)的微型机器人行走在棋盘上并抓取放置棋子实现落子，配合支撑在棋盘外围的摄像头进行图像识别和路径规划。该方案脱离了对棋盘与棋子的限制，以棋盘外设的方式改造传统棋盘使用方法
### **实现原理**
采用微型控制器和光电传感器驱动微型机器人在棋盘上移动，可以借助棋盘已有方格线寻迹移动，在抓取棋子后放置到指定位置，落子过程结束后机器人归位，等待下一次落子指令。可参考[寻迹小车项目](https://www.bilibili.com/video/BV1uA411p7PJ/?spm_id_from=333.788.recommend_more_video.0)
### **优点**
- Arduino对应可参考项目众多，技术`易实现`
- 功能实现与棋盘本体分离，独立性强
- 成本低廉，参考[遥控小车项目](https://www.bilibili.com/video/BV1ti4y1g7Uc?spm_id_from=333.999.0.0)
- 寓教于乐，交互生动，能更加引起儿童学习兴趣
- 移动速度快（相较于路线1）
### **缺点**
- 操作环境不可控，对控制算法及识别算法鲁棒性要求更高
- 难以面对棋子排列密集的情况
- 仍然需要依赖于外置摄像头，无法单独实现功能

---
## 潜在路线3--minidrone飞行平台
> 使用`minidrone`作为实现平台，将落子以及拍摄棋盘识别的功能集成于一体，在检测到用户落子时，飞行器抓取棋子并起飞，在棋盘上空悬停并识别棋局后判断落子位置，逐渐降低飞行高度并放置棋子，随后飞行至棋盒位置，等待用户下一次落子
### **实现原理**
使用现有成熟的的minidrone平台并进行改造，将俯视摄像头拍摄到的图像传到手机中进行处理计算，机载控制单元仅负责按照手机的指令控制不同模块完成相应任务。例如控制旋翼马达来调整飞行姿态，控制夹取装置来完成取子落子的操作，控制激光灯在棋盘上投影出提示落子位置
### **优点**
- 集成度高，无需摄像头支架
- 与棋盘独立性高，几乎不需要对棋盘进行任何改造
- 寓教于乐，落子过程生动有趣
- 成本可控，如今小型四旋翼飞行器价格已经很低
### **缺点**
- 噪声不可控，飞行器自身噪声较大
- 续航受限，围棋棋局时间长（若需要持续悬停在棋盘上空投影提示）
- 开发难度较大，飞行器设计对于重量与功能等限制较多




